# 実装計画の立案

以下の依頼をもとに、対話的に実装計画を立案してください。

**重要: このコマンドは計画立案のみを行います。実装は行いません。**
計画が承認されたら、ExitPlanModeを実行して終了してください。

## 依頼内容
```
$ARGUMENTS
```

## 進め方

### フェーズ1: 初期理解と調査
1. コードベースを調査する（Glob, Grep, Readツールを使用）
2. 不明点や選択肢がある場合はユーザーに質問する

### フェーズ2: 計画立案と出力
調査が完了したら、**必ず以下のフォーマットで**計画を出力してください：

```markdown
# 計画: [タイトル]

## 概要
[この計画で実現すること]

## 背景
[なぜこの変更が必要か]

## 変更対象
- `path/to/file1.ts`: [変更内容]
- `path/to/file2.ts`: [変更内容]

## 実装ステップ
1. [ステップ1の詳細]
2. [ステップ2の詳細]
3. [ステップ3の詳細]

## 受け入れ条件
- [ ] [条件1]
- [ ] [条件2]
- [ ] [条件3]

## 確認方法
[テストコマンドや確認手順]

## 注意事項
- [注意点1]
- [注意点2]
```

### フェーズ3: ユーザー承認と終了
計画が完成したら、ユーザーに確認を求めてください。
承認されたら、**ExitPlanModeを実行して終了**してください。

**注意: 実装は行わないでください。** 計画がGitHub Issueとして作成され、別途実装されます。

## 重要: 計画の詳細度

この計画は**Haikuモデル（軽量モデル）**で実装されます。
そのため、計画は非常に具体的で明確である必要があります：

- **変更するファイル**: 具体的なファイルパスを記載
- **変更内容**: 何をどう変更するか具体的に記載
- **実装ステップ**: 順序立てて具体的に
- **受け入れ条件**: モデルが自己判断できる具体的な基準

曖昧な指示や抽象的な表現は避け、実装者が迷わないレベルまで詳細化してください。
